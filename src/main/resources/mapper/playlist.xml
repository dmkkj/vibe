<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.PlaylistMapper">
	<!-- 
	<insert id="addPlaylist" parameterType="Playlist">	
		INSERT INTO playlist (pl_title, pl_img, pl_date, pl_public_yn, user_email)
		VALUES (#{plTitle}, #{plImg}, #{plDate}, #{plPublicYn}, #{userEmail})
	</insert>
	-->
		
	 <resultMap id="playlistMap" type="Playlist">
        <id column="pl_code" property="plCode" />
        <result column="pl_title" property="plTitle" />
        <result column="pl_img" property="plImg" />
        <result column="pl_date" property="plDate" />
        <result column="pl_public_yn" property="plPublicYn" />
   	<association property="user" javaType="User">
  	 	<id column="user_email" property="userEmail"/>
			<result column="user_password" property="userPassword"/>
			<result column="user_nickname" property="userNickname"/>
	</association>
    </resultMap>
	
	<select id="allPlaylist" resultMap="playlistMap">
		SELECT * FROM playlist
		JOIN user USING (user_email)
	</select>

</mapper>